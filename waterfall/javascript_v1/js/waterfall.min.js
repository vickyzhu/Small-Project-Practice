/**
 * Created by vickyzhu on 2016/6/23.
 */window.onload=function(){waterfall("main","box");var d=[{src:"30.jpg"},{src:"31.jpg"},{src:"32.jpg"},{src:"33.jpg"},{src:"34.jpg"},{src:"35.jpg"},{src:"36.jpg"},{src:"37.jpg"},{src:"38.jpg"},{src:"39.jpg"},{src:"40.jpg"},{src:"41.jpg"},{src:"42.jpg"},{src:"43.jpg"},{src:"44.jpg"},{src:"45.jpg"}];window.onscroll=function(){if(checkScollSlide("main","box")){var e=document.getElementById("main"),a;for(a in d){var b=document.createElement("div");b.className="box";b.innerHTML='\x3cdiv class\x3d"pic"\x3e\x3cimg src\x3d"./images/'+d[a].src+'"\x3e\x3c/div\x3e';e.appendChild(b)}waterfall("main","box")}}};function waterfall(d,e){var a=document.getElementById(d),b=a.getElementsByClassName(e),c=b[0].offsetWidth,g=Math.floor(document.documentElement.clientWidth/c);a.style.cssText="width:"+c*g+"px;margin:0 auto;";a=[];for(c=0;c<b.length;c++)if(c<g)a[c]=b[c].offsetHeight;else{var h=Math.min.apply(null,a),f=getMinHIndex(a,h);b[c].style.cssText="position:absolute;top:"+h+"px;left:"+b[f].offsetLeft+"px;";a[f]+=b[c].offsetHeight}}function getMinHIndex(d,e){for(var a in d)if(d[a]==e)return a}function checkScollSlide(d,e){var a=document.getElementById(d).getElementsByClassName(e);return a[a.length-1].offsetTop+a[a.length-1].offsetHeight/2<(document.documentElement.scrollTop||document.body.scrollTop)+(document.documentElement.clientHeight||document.body.clientHeight)?!0:!1};